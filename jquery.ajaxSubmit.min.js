//
// jquery.ajaxSubmit.js - Effortlessly submit forms using AJAX and JSON
//
// Developed by Cory LaViska for A Beautiful Site, LLC
//
// Licensed under the MIT license: http://opensource.org/licenses/MIT
//
jQuery&&function(a){"use strict";function t(){var t=this,i=a(t).data("options.ajaxSubmit");a(t).addClass("ajaxSubmit-busy").find(i.loader).prop("hidden",!1)}function i(t){a(this).data("options.ajaxSubmit",t).on("submit.ajaxSubmit",c)}function s(){a(this).removeData("options.ajaxSubmit").off(".ajaxSubmit")}function e(){a(this).addClass("ajaxSubmit-disabled").find(":input").prop("disabled",!0)}function n(){a(this).removeClass("ajaxSubmit-disabled").find(":input").prop("disabled",!1)}function o(){var t=this,i=a(t).data("options.ajaxSubmit");a(t).find(".ajaxSubmit-invalid").each(function(){var s=this;a(s).removeClass("ajaxSubmit-invalid"),i.hideInvalid.call(t,s)})}function l(){var t=this,i=a(t).data("options.ajaxSubmit");a(t).find(i.message).text("").prop("hidden",!0)}function u(){f.call(this),o.call(this),l.call(this),this.reset()}function d(t){var i=this,s=a(i).data("options.ajaxSubmit");a.each(t,function(t,e){var n=a(i).find(':input[name="'+e+'"]').get(0);a(n).addClass("ajaxSubmit-invalid"),s.showInvalid.call(i,n)})}function r(t){var i=this,s=a(i).data("options.ajaxSubmit");a(i).find(s.message).text(t).prop("hidden",!1)}function c(i){var s=this,e=a(s).data("options.ajaxSubmit");i.preventDefault(),a(s).is(".ajaxSubmit-busy")||e.before&&e.before.call(s)===!1||(l.call(s),o.call(s),t.call(s),a.ajax({url:a(s).attr("action"),type:a(s).attr("method"),data:a(s).serializeArray(),dataType:"json"}).done(function(a){f.call(s),a&&a.message&&r.call(s,a.message),a&&a.invalid&&a.invalid.length&&d.call(s,a.invalid),a&&a.success?e.success&&e.success.call(s,a):e.fail&&e.fail.call(s,a),e.after&&e.after.call(s,a)}).fail(function(a,t,i){f.call(s),e.error&&e.error.call(s,t,i)}))}function f(){var t=this,i=a(t).data("options.ajaxSubmit");a(t).removeClass("ajaxSubmit-busy").find(i.loader).prop("hidden",!0)}a.ajaxSubmit={defaults:{loader:".form-loader",message:".form-message",hideInvalid:function(t){a(t).closest(".form-group").removeClass("has-warning")},showInvalid:function(t){a(t).closest(".form-group").addClass("has-warning")}}},a.extend(a.fn,{ajaxSubmit:function(o,l){switch("object"==typeof o&&(l=o),o){case"busy":return a(this).each(l===!1?f:t);case"destroy":return a(this).each(s);case"disable":return a(this).each(l===!1?n:e);case"reset":return a(this).each(u);default:return a(this).each(function(){i.call(this,a.extend({},a.ajaxSubmit.defaults,l))})}}})}(jQuery);